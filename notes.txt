public class CommonUtils {
    private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern("yyyy-MM-dd");

    public static boolean isBackdateDateValid(String backdateDate, String dos) {
        if (backdateDate == null || dos == null || backdateDate.trim().isEmpty() || dos.trim().isEmpty()) {
            log.info("Invalid input: null or empty date strings");
            return false;
        }

        try {
            LocalDate d1 = LocalDate.parse(backdateDate, DATE_FORMATTER);
            LocalDate d2 = LocalDate.parse(dos, DATE_FORMATTER);

            int comparison = d1.compareTo(d2);
            if (comparison > 0) {
                log.info("Backdate date occurs after date of service");
                return false;
            } else if (comparison < 0) {
                log.info("Backdate date occurs before date of service");
                return true;
            } else {
                log.info("Backdate date and date of service are equal");
                return true;
            }
        } catch (DateTimeParseException e) {
            log.info("Parse error: " + e.getMessage());
            return false;
        }
    }

    private static final Logger log = LoggerFactory.getLogger(CommonUtils.class);
}
